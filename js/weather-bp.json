





	
$(document).ready(function(){	
		//setTimeout
		var delayWeather = function(){					
			//weather api
			var weatherApi = "http://api.openweathermap.org",
				foreCast = "/data/2.5/forecast?",
				weatherUnits = "&units=metric",
				apiKey = "&APPID=a2dcb22f327fa026c480f24bbb862c53",
				cityId = "&id=1717512",
				weatherLang = "&lang=en",
				mode= "&mode=json",
				weatherURL = weatherApi + foreCast +  cityId  +  apiKey + weatherUnits + weatherLang + mode;
						
			//calling JSON
			$.getJSON(weatherURL, function(data){
				
			/* 	var JsonDisplayOutput = '<div id="widget-weather-container">';
					JsonDisplayOutput += '<div class="widget-weather">';
					JsonDisplayOutput += '<h2>' + data.name + "," + data.sys.country +'</h2>';
					JsonDisplayOutput += '<p>' + '<span>' + data.weather[0].description + '</span>' + '</p>';
					JsonDisplayOutput += '</div>';

					JsonDisplayOutput += '<div class="widget-weather" id="moving-cloud">';
					JsonDisplayOutput += '<img id="iconWeather" src=" '+ weatherApi +'/img/w/' + data.weather[0].icon +'.png"/>';
					JsonDisplayOutput += '</div>';

					JsonDisplayOutput += '<div class="widget-weather">';
					JsonDisplayOutput += '<h2>' + data.main.temp + '<span>Â°C</span>' + '</h2>';
					JsonDisplayOutput += '</div>';
					
				JsonDisplayOutput += '</div>'; */  //widget-weather-containe
				//display data here
				/* $('#weather-container').html(JsonDisplayOutput); */
				var JsonDisplayOutput = '';
				for( var x = 0 ; x < data.length; x++ ){
				  JsonDisplayOutput += '<li>' + data.list[x].weather[0].description +  data.list[x].main.temp + '</li>';
				}
				
				/* JsonDisplayOutput += '</ul>'; */
				$('#weather-container').html(JsonDisplayOutput);

				/* //Animate Cloud
				var movingObjCloud = function(){
				//cloud
				var cloud = $('#iconWeather');
					TweenMax.to(cloud, 10,{
						x:"+=30", 
						autoAlpha: 0.8, 
						repeat: -1, 
						repeatDelay : 1,
						ease:Linear.easeIn
					});//anmiteCloud		
				};//movingObjCloud
				setTimeout(movingObjCloud, 500);//setTimeout */			
			});//getJSON
		};//delayWeather
		setTimeout(delayWeather, 1000);//setTimeout	
});//ready










(function(){
	
	setTimeout(function(){
			var weatherRequest;

			if(window.XMLHttpRequest){
			weatherRequest = new XMLHttpRequest();
			}else{
			weatherRequest = new ActiveXObject("Microsoft.XMLHTTP");
			}//if

			weatherRequest.onreadystatechange = function () {
			if((weatherRequest.readyState===4) && (weatherRequest.status===200)){
			var infoWeather = JSON.parse(weatherRequest.responseText);
			
					var dynamicDisplayingEl = '';
					for(var i=0; i<infoWeather.list.length; i++){
						
						dynamicDisplayingEl += '<div class="weatherData">';
						 for(key in infoWeather.list[i]){
								if(infoWeather.list[i].hasOwnProperty(key)){
									dynamicDisplayingEl += '<div class="weatherEach">' +  
									'<p>' + '<span>' +  infoWeather.list[i].dt_txt + '</p>' + '</span>' + 
									'<p>' + '<span>' +  infoWeather.list[i].weather[0].main + '</span>' + '</p>' + 
									'<p>' + '<span>' +  infoWeather.list[i].main.temp + '</span>' +  '</p>' + 
									'<p>' + '<img class="iconWeather" src="http://api.openweathermap.org/img/w/'+ infoWeather.list[i].weather[0].icon +'.png" alt="weather icon"/>' + '</p>'+ '</div>';
									console.log();
							 }//if
						 }//for
						 dynamicDisplayingEl += '</div>';
						
						var displayingEl = document.getElementById('weather-container');
						displayingEl.innerHTML = dynamicDisplayingEl;
					}//for
				}//readyState
			}//onreadystatechange
			weatherRequest.open('GET', 'http://api.openweathermap.org/data/2.5/forecast?&id=1717512&APPID=a2dcb22f327fa026c480f24bbb862c53&units=metric&lang=en&mode=json');
		weatherRequest.send();//send
	}, 2000);//setTimeout
})();//function












